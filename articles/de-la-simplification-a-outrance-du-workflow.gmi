---
title: De la simplification Ã  outrance du workflow
date: 2023-10-04
authors:
  - Tim
tags:
  - sÃ©mantique
  - nÃ©vrose
---

Ã€ lâ€™origine, jâ€™Ã©tais comme tout le monde, je cherchais Ã  simplifier au maximum mon workflow et jâ€™en suis venu sans trop rÃ©flÃ©chir Ã  opter pour un convertisseur Markdown â†’ HTML. Cette pÃ©riode est dÃ©sormais rÃ©volue et je prends un certain plaisir Ã  naviguer dans la docâ€™ en ligne de Mozilla Ã  la recherche de la balise parfaitement adaptÃ©e Ã  chaque situation.

> Oui mais Condor HTML et Markdown ne sont pas antinomiques. Ces deux approches sont conciliables, on peut Ã©crire du HTML _inlinÃ©_ dans du MarkdownÂ !

ğŸ†—ğŸ†’ mais pourquoi rajouter une _build-step_ en plus pour gÃ©nÃ©rer les 3 pauvres balises <h1> de vos articles de minable. Soyons sÃ©rieux, le HTML est largement autosuffisant et assez peu verbeux dans ses moutures modernes. Il y a littÃ©ralement une trentaine de cas oÃ¹ le balise fermante <p> peut Ãªtre omise.

=> https://html.spec.whatwg.org/multipage/syntax.html#optional-tags

Maintenant que je vous ai fait descendre de la tour de Babel Ã  gÃ©nÃ©rer de dette technique en haut de laquelle vous vous Ã©tiez hissÃ©s, Ã©voquons les problÃ¨mes rÃ©currents de Markdown.

## La maniÃ¨re dont les gens se servent du Markdown est fondamentalement incorrecte

Markdown ne comprend rien Ã  ce que vous Ã©crivez. Je mâ€™explique, considÃ©rez le document suivantÂ :
```markdown
>Mignonne, allons voir si la rose
>Qui ce matin avoit desclose
>Sa robe de pourpre au Soleil,
>A point perdu ceste vesprÃ©e
>Les plis de sa robe pourprÃ©e,
>Et son teint au vostre pareil.
>
>LasÂ ! voyez comme en peu dâ€™espace,
>Mignonne, elle a dessus la place
>LasÂ ! las ses beautez laissÃ© cheoirÂ !
>Ã” vrayment marastre Nature,
>Puis quâ€™une telle fleur ne dure
>Que du matin jusques au soirÂ !
>
>Donc, si vous me croyez, mignonne,
>Tandis que vostre Ã¢ge fleuronne
>En sa plus verte nouveautÃ©,
>Cueillez, cueillez vostre jeunesseÂ :
>Comme Ã  ceste fleur la vieillesse
>Fera ternir vostre beautÃ©.

Pierre de Ronsard, _Les Odes_
```

qui est Ã©quivalent en HTML Ã Â :

```html
<blockquote>
  <p>
    Mignonne, allons voir si la rose
    Qui ce matin avoit desclose
    Sa robe de pourpre au Soleil,
    A point perdu ceste vesprÃ©e
    Les plis de sa robe pourprÃ©e,
    Et son teint au vostre pareil.
  </p>
  <p>
    â€¦
  </p>
  <p>
    â€¦
  </p>
</blockquote>

<p>
  Pierre de Ronsard, <em>Les Odes</em>
</p>
```

On remarque plusieurs problÃ¨mesÂ :
* Personne ne comprend rienÂ ;
* Mort de la sÃ©mantiqueÂ ;
* Les gens comprennent uniquement grÃ¢ce au renduÂ : Markdown devient une sorte de CSS lightÂ ;
* Tâ€™es hors sujet avec tes balises Ã©parpillÃ©es gros.

Observez plutÃ´tÂ :

```html
<figure>
  <blockquote>
    <p>
      Mignonne, allons voir si la rose
      Qui ce matin avoit desclose
      Sa robe de pourpre au Soleil,
      A point perdu ceste vesprÃ©e
      Les plis de sa robe pourprÃ©e,
      Et son teint au vostre pareil.
    <p>
      â€¦
    <p>
      â€¦
  </blockquote>

  <figcaption>
    Pierre de Ronsard, <cite>Les Odes</cite>
  </figcaption>
</figure>
```

On remarqueÂ :
* Ne demande pas fonciÃ¨rement plus dâ€™efforts pour une personne digneÂ ;
* Soigneusement Ã©critÂ ;
* VraiÂ ;
* BeauÂ ;
* Juste.

## Les bibliothÃ¨ques Markdown gÃ©nÃ¨rent nâ€™imp

Un autre exemple, avec ce bout de MarkdownÂ :
```markdown
<p>
  Foo

  Bar
</p>
```

La majoritÃ© des libâ€™ produiront un code HTML Ã©quivalent Ã Â :
```html
<p>
  Foo

  <p>
    Bar
  </p>
</p>
```

Ce qui est, je vous le donne en mille, du HTML malformÃ©, avec tous les problÃ¨mes en matiÃ¨re de composabilitÃ© que cela engendre, â„¯â„Š corrompre le rendu dâ€™un lecteur RSS qui comptait sur votre rigueur pour faire son job correctement.

On pourra toujours objecterÂ :
> Oui mais Condor ce ne sont pas des problÃ¨mes liÃ©s au Markdown en soi, câ€™est juste les librairies que tu utilises qui sont Ã  chier.

ğŸ†—ğŸ†’ bah faites-mieux alors.

## Le Markdown nâ€™est spÃ©cifiÃ© nulle part

Utiliser MarkdownÂ ? Ok mais quelle versionÂ ? Le Â«Â vanillaÂ Â» tel que penser par feu Aaron SwartzÂ ? Le GitHub flavoredÂ ? Celui qui permet de gÃ©nÃ©rer une table des matiÃ¨res automatiquement mais pas dâ€™Ã©crire des tableauxÂ ?

Vous comprenez oÃ¹ je veux en venirÂ : cette jungle est insupportable. Certes CommonMark se veut Ãªtre une solution mais il arrive un peu aprÃ¨s la guerre car sorti initialement en 2014 (câ€™est-Ã -dire la mÃªme annÃ©e que HTML5 et plus de 10 ans aprÃ¨s Markdown).

=> https://daringfireball.net/projects/markdown/syntax
=> https://commonmark.org/

## Ã‰tudes de problÃ©matiques sous-jacentes

* Câ€™est super chiant Ã  parser Markdown putain. En comparaison, HTML est quasiment du XML. On sait le parser depuis 25 ansÂ ;
* Du fait des raisons Ã©numÃ©rÃ©es plus haut, Markdown pour lâ€™accesibilitÃ© câ€™est Ã  chier.

## Conclusion

Ã‰crivez du HTML, vous Ã©viterez de vous tirer une balle dans le pied. Continuez dâ€™utiliser Markdown pour vos readme niais de projet Ã  2 stars mais pas pour cibler un rendu HTML.

Tant quâ€™Ã  faire, sâ€™il vous plaÃ®t de grÃ¢ce, arrangez-vous pour que votre HTML soit valide, par exemple en utilisant le vÃ©rificateur en ligne du W3C et laissez-vous bercer par cet agrÃ©able Ã©cranÂ :

=> /images/douce-vie.jpg La vie est douce, câ€™est une sieste dans la soie

En plus, vous Ã©coperez dâ€™un badge mignon qui ajoutera un charme certain Ã  vos pages WebÂ :

=> https://www.w3.org/TR/badging/

## Bonus

Lors de lâ€™Ã©criture de cet article, je suis tombÃ© sur cet intÃ©ressant thread quâ€™on peut rÃ©sumer assez trivialement parÂ :
> Faites des outils pour rendre HTML agrÃ©able au lieu de perdre du temps avec du Markdown abruti

=> https://merveilles.town/@neauoire/111154810425383324

## Un dernier mot

Oui, on utilise Gemtext pour le blog, câ€™est encore pire que Markdown mais au moins le HTML de notre site est correct contrairement au votre. Vous pouvez dâ€™ailleurs admirer nos efforts pour que le HTML gÃ©nÃ©rÃ© par notre proxy HTTP fasse sens iciÂ :
=> https://github.com/Psi-Prod/Proximite-2/blob/master/html_of_gemtext.ml

Je songe de plus en plus Ã  gÃ©nÃ©rer statiquement une version HTML du site et simplement la serve comme on le fait pour Gemini mais LÃ©o dit que je suis un con.

=> /images/hypocrisie.jpg Les lecteurs de Heyplzlookatme aprÃ¨s lâ€™article
